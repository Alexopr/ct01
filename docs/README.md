# CT.01 - Cryptocurrency Trading Dashboard

<div align="center">

![Project Status](https://img.shields.io/badge/Status-In%20Development-yellow)
![API Version](https://img.shields.io/badge/API-v1.0-blue)
![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.x-green)
![React](https://img.shields.io/badge/React-18.x-blue)

**–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö —Ä—ã–Ω–∫–æ–≤ —Å —Å–∏—Å—Ç–µ–º–æ–π –ø–æ–¥–ø–∏—Å–æ–∫**

</div>

## üìã –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

CT.01 - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –≤–µ–±-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö —Ä—ã–Ω–∫–æ–≤, –≤–∫–ª—é—á–∞—é—â–∞—è:

- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω** —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–∏—Ä–∂ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏** –º–µ–∂–¥—É –±–∏—Ä–∂–∞–º–∏  
- **–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫** —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Å–∏—Å—Ç–µ–º–æ–π
- **WebSocket –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îú‚îÄ‚îÄ Backend (Spring Boot 3.x)
‚îÇ   ‚îú‚îÄ‚îÄ REST API + WebSocket
‚îÇ   ‚îú‚îÄ‚îÄ PostgreSQL Database
‚îÇ   ‚îú‚îÄ‚îÄ Redis Caching
‚îÇ   ‚îî‚îÄ‚îÄ Liquibase Migrations
‚îÇ
‚îú‚îÄ‚îÄ Frontend (React 18 + TypeScript)
‚îÇ   ‚îú‚îÄ‚îÄ HeroUI Components
‚îÇ   ‚îú‚îÄ‚îÄ Real-time Data Updates
‚îÇ   ‚îî‚îÄ‚îÄ Responsive Design
‚îÇ
‚îî‚îÄ‚îÄ Infrastructure
    ‚îú‚îÄ‚îÄ Docker Support
    ‚îú‚îÄ‚îÄ Environment Configurations
    ‚îî‚îÄ‚îÄ CI/CD Ready
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### üîó –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏
- **[API Documentation](./API_REFERENCE.md)** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- **[Architecture Guide](./ARCHITECTURE.md)** - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **[Setup Guide](./SETUP.md)** - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- **[Development Guide](./DEVELOPMENT.md)** - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- **[Testing Guide](./TESTING.md)** - –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã

### üìñ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **[Subscription System](./subscription-system-architecture.md)** - –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫
- **[User Management](./ROLE_MANAGEMENT_API.md)** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–æ–ª—è–º–∏
- **[Real-time Data](./WEBSOCKET_API.md)** - WebSocket API –∏ real-time –¥–∞–Ω–Ω—ã–µ
- **[Database Schema](./DATABASE.md)** - –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
- **[Security](./SECURITY.md)** - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Java 17+
- Node.js 18+
- PostgreSQL 13+
- Redis 6+
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
git clone https://github.com/Alexopr/ct01.git
cd ct01
```

2. **Backend Setup**
```bash
cd backend
./mvnw spring-boot:run
```

3. **Frontend Setup**
```bash
cd frontend
npm install
npm run dev
```

4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redis
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Liquibase
```

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: **[Setup Guide](./SETUP.md)**

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
- ‚úÖ –ê–Ω–∞–ª–∏–∑ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
- ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –±–∏—Ä–∂ –ø–æ –∫–æ–º–∏—Å—Å–∏—è–º
- ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫ (FREE/PREMIUM)

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–æ–ª—è–º–∏
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–∏–º–∏—Ç–æ–≤ –ø–æ–¥–ø–∏—Å–æ–∫
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ‚úÖ REST API —Å OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- ‚úÖ WebSocket –¥–ª—è real-time –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ Role-based access control (RBAC)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìä –°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏
- [x] **–°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** (Telegram + JWT)
- [x] **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** –∏ —Ä–æ–ª—è–º–∏
- [x] **–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫** —Å –ª–∏–º–∏—Ç–∞–º–∏
- [x] **API –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –±–∏—Ä–∂** (Binance, OKX, Bybit)
- [x] **WebSocket –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**
- [x] **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å**
- [x] **–ë–∞–∑–æ–≤—ã–π frontend** —Å React

### –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- [ ] **UI Redesign** (Crypto Dashboard Style)
- [ ] **Twitter Tracker** —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [ ] **Advanced Analytics**
- [ ] **Mobile –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**

### –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
- [ ] **Telegram –±–æ—Ç** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] **Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
- [ ] **API –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**
- [ ] **Machine Learning** –∞–ª–≥–æ—Ä–∏—Ç–º—ã

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **Spring Boot 3.x** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **PostgreSQL** - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Redis** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–µ—Å—Å–∏–∏
- **Liquibase** - –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **Spring Security** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **WebSocket** - real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
- **Maven** - —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### Frontend
- **React 18** - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **TypeScript** - —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **HeroUI** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **Vite** - —Å–±–æ—Ä—â–∏–∫ –∏ dev server
- **React Router** - —Ä–æ—É—Ç–∏–Ω–≥
- **Axios** - HTTP –∫–ª–∏–µ–Ω—Ç

### DevOps & –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **GitHub Actions** - CI/CD
- **Nginx** - reverse proxy
- **Let's Encrypt** - SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

1. **Fork** —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ **feature branch** (`git checkout -b feature/AmazingFeature`)
3. **Commit** –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add some AmazingFeature'`)
4. **Push** –≤ branch (`git push origin feature/AmazingFeature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ **Pull Request**

–°–º. **[Development Guide](./DEVELOPMENT.md)** –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. `LICENSE` —Ñ–∞–π–ª –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **–ê–≤—Ç–æ—Ä**: Alexey
- **GitHub**: [@Alexopr](https://github.com/Alexopr)
- **–ü—Ä–æ–µ–∫—Ç**: [CT.01](https://github.com/Alexopr/ct01)

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- Spring Boot community
- React –∏ TypeScript —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
- –í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –ü–û

---

<div align="center">
Made with ‚ù§Ô∏è for the crypto community
</div>

# Project Documentation

This directory contains comprehensive documentation for the role-based user management system and other project components.

## üìö Documentation Index

### Role Management System
- **[Role Management API](./ROLE_MANAGEMENT_API.md)** - Complete API documentation with examples
- **[Quick Start Guide](./ROLE_MANAGEMENT_QUICKSTART.md)** - Essential patterns for developers

### Other Documentation
- Add other documentation files here as the project grows

## üöÄ Quick Start

New to the project? Start here:

1. **Read** the [Quick Start Guide](./ROLE_MANAGEMENT_QUICKSTART.md) for essential patterns
2. **Reference** the [Full API Documentation](./ROLE_MANAGEMENT_API.md) for detailed implementation
3. **Test** your implementation using the provided examples

## üîë Key Concepts

### Role Hierarchy
```
ADMIN (4) ‚Üí Full system access
    ‚Üì
MODERATOR (3) ‚Üí User management + premium tools
    ‚Üì  
PREMIUM (2) ‚Üí Basic tools + premium features
    ‚Üì
USER (1) ‚Üí Basic access (auto-assigned)
```

### Permission Inheritance
Higher roles automatically inherit all permissions from lower roles.

### Security Model
- **Frontend:** Role-based UI rendering with TypeScript safety
- **Backend:** Permission-based endpoint protection with Spring Security
- **Registration:** Automatic USER role assignment, no self-service role selection

## üõ†Ô∏è Development Guidelines

### When to Use Each Type

| Type | Use Case | Has Roles? |
|------|----------|------------|
| `UserRegistrationData` | User registration | ‚ùå No |
| `UserFormData` | Admin user creation | ‚úÖ Yes |
| `User` | Display user info | ‚úÖ Yes (as objects) |

### Security Best Practices

1. **Use permissions over roles** when possible
2. **Validate on backend** - never trust frontend-only checks
3. **Follow least privilege** - grant minimum required permissions
4. **Audit regularly** - review user roles and permissions

### Code Quality

- Use TypeScript types strictly
- Implement proper error handling
- Add logging for security events
- Write tests for role-based logic

## üìñ API Reference

### Quick Endpoint Reference

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| `POST` | `/api/auth/register` | User registration | No |
| `POST` | `/api/auth/telegram` | Telegram auth | No |
| `GET` | `/api/auth/me` | Current user | Yes |
| `GET` | `/api/v1/users` | List users | USER_READ |
| `PUT` | `/api/v1/users/{id}/upgrade-to-premium` | Upgrade to premium | ADMIN |
| `GET` | `/api/v1/roles` | List roles | ROLE_READ |

## üß™ Testing

### Test Categories

1. **Unit Tests** - Role assignment, permission checks
2. **Integration Tests** - API endpoint security
3. **UI Tests** - Role-based component rendering
4. **Security Tests** - Authorization bypass attempts

### Testing Checklist

- [ ] Registration assigns USER role automatically
- [ ] Admin can manage user roles
- [ ] Premium upgrade works correctly
- [ ] UI renders based on permissions
- [ ] Protected routes block unauthorized access

## üêõ Troubleshooting

### Common Issues

| Error | Solution |
|-------|----------|
| Type conflicts between User interfaces | Use User from `types/api.ts` |
| Role assignment failures | Verify USER role exists with ID 1 |
| Permission denied errors | Check permission vs role requirements |
| Registration without roles | Use UserRegistrationData type |

### Debug Steps

1. Check browser console for auth errors
2. Verify API responses include role structure
3. Inspect user context state in React DevTools
4. Review backend logs for authorization failures

## üîÑ Migration Guide

### From String Roles to Object Roles

```typescript
// Before
user.roles.includes('ADMIN')

// After  
user.roles.some(role => role.name === 'ADMIN')
// Or: hasRole('ADMIN')
```

### Registration Form Updates

1. Remove role selection components
2. Change `UserFormData` ‚Üí `UserRegistrationData`
3. Remove roles from form state
4. Update API calls to registration endpoint

## üìû Support

For questions about the role management system:

1. **Check** this documentation first
2. **Search** existing issues in the project repository
3. **Review** code examples in the documentation
4. **Contact** the development team if needed

---

## üìã Documentation Maintenance

This documentation should be updated when:

- New roles or permissions are added
- API endpoints change
- Security model is modified  
- New frontend patterns are established

**Last Updated:** December 2024
**Version:** 1.0.0 